/*Bootstrap overlapping modals*/
!function(e){e.fn.modal.Constructor.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),o&&n.$element[0].offsetWidth,n.$backdrop.css("z-index",1030+10*e(".modal.fade.in").length),n.$element.css("z-index",1040+10*e(".modal.fade.in").length).addClass("in").attr("aria-hidden",!1),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(s)}))},e(document).on("hidden.bs.modal",".modal",function(){e(".modal.fade.in").length?e(document.body).addClass("modal-open"):e(document.body).removeClass("modal-open")})}(jQuery);
/*Form serialization*/
!function(e){e.fn.serializeObject=function(){var i=this,t={},a={},n={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(e,i,t){return e[i]=t,e},this.push_counter=function(e){return void 0===a[e]&&(a[e]=0),a[e]++},e.each(e(this).serializeArray(),function(){if(n.validate.test(this.name)){for(var a,u=this.name.match(n.key),h=this.value,r=this.name;void 0!==(a=u.pop());)r=r.replace(new RegExp("\\["+a+"\\]$"),""),a.match(n.push)?h=i.build([],i.push_counter(r),h):a.match(n.named)?h=i.build({},a,h):a.match(n.fixed)&&(h=i.build([],a,h));t=e.extend(!0,t,h)}}),t}}(jQuery);
/*jQuery.jeditable*/
!function($){$.fn.editable=function(t,e){if("disable"==t)return void $(this).data("disabled.editable",!0);if("enable"==t)return void $(this).data("disabled.editable",!1);if("destroy"==t)return void $(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");var i=$.extend({},$.fn.editable.defaults,{target:t},e),a=$.editable.types[i.type].plugin||function(){},n=$.editable.types[i.type].submit||function(){},l=$.editable.types[i.type].buttons||$.editable.types.defaults.buttons,s=$.editable.types[i.type].content||$.editable.types.defaults.content,d=$.editable.types[i.type].element||$.editable.types.defaults.element,o=$.editable.types[i.type].reset||$.editable.types.defaults.reset,r=i.callback||function(){},p=i.onedit||function(){},c=i.onsubmit||function(){},u=i.onreset||function(){},h=i.onerror||o;return i.tooltip&&$(this).attr("title",i.tooltip),i.autowidth="auto"==i.width,i.autoheight="auto"==i.height,this.each(function(){var t=this,e=$(t).width(),m=$(t).height();if(testElement=$("input[type='text']:enabled:first"),testElement.length)var f=testElement.outerWidth()-testElement.width();else var f=$(t).outerWidth()-e;$(this).data("event.editable",i.event),$.trim($(this).html())||$(this).html(i.placeholder),$(this).bind(i.event,function(u){if(!0!==$(this).data("disabled.editable")&&!t.editing&&!1!==p.apply(this,[i,t])){u.preventDefault(),u.stopPropagation(),i.tooltip&&$(t).removeAttr("title"),i.padding=f,0==$(t).width()?(i.width=e,i.height=m):("none"!=i.width&&(i.width=i.autowidth?$(t).width():i.width),"none"!=i.height&&(i.height=i.autoheight?$(t).height():i.height)),$(this).html().toLowerCase().replace(/(;|"|\/)/g,"")==i.placeholder.toLowerCase().replace(/(;|"|\/)/g,"")&&$(this).html(""),t.editing=!0,t.revert=$(t).html(),t.text_revert=$(t).text(),$(t).html("");var y=$("<form />");i.cssclass&&("inherit"==i.cssclass?y.attr("class",$(t).attr("class")):y.attr("class",i.cssclass)),i.style&&("inherit"==i.style?(y.attr("style",$(t).attr("style")),y.css("display",$(t).css("display"))):y.attr("style",i.style));var b,v=d.apply(y,[i,t]);if($(t).width(i.width),i.loadurl){$(t).height(i.height);var g=setTimeout(function(){v.disabled=!0,$(t).html(i.loadtext)},100),w={};w[i.id]=t.id,$.isFunction(i.loaddata)?$.extend(w,i.loaddata.apply(t,[t.revert,i])):$.extend(w,i.loaddata),$.ajax({type:i.loadtype,url:i.loadurl,data:w,async:!0,success:function(e){window.clearTimeout(g),$(t).html(""),b=e,v.disabled=!1,s.apply(y,[b,i,t]),$(t).css("height",""),$(t).append(y),i.select&&v.select()}})}else i.data?(b=i.data,$.isFunction(i.data)&&(b=i.data.apply(t,[t.revert,i])),s.apply(y,[b,i,t]),$(t).append(y)):(b=t.text_revert,s.apply(y,[b,i,t]),$(t).append(y));v.attr("name",i.name),l.apply(y,[i,t]),a.apply(y,[i,t]),$(":input:visible:enabled:first",y).focus(),i.select&&v.select(),y.keydown(function(e){27==e.keyCode&&(e.preventDefault(),o.apply(y,[i,t]))});var g;"cancel"==i.onblur?$(y).focusout(function(){g=setTimeout(function(){o.apply(y,[i,t])},500)}):y.focusout("submit"==i.onblur?function(){g=setTimeout(function(){y.submit()},200)}:$.isFunction(i.onblur)?function(){i.onblur.apply(t,[v.val(),i])}:function(){}),$(y).focusin(function(){g&&clearTimeout(g)}),y.submit(function(e){if(g&&clearTimeout(g),e.preventDefault(),!1!==c.apply(y,[i,t])&&!1!==n.apply(y,[i,t]))if($.isFunction(i.target)){var a=i.target.apply(t,[v.val(),i]);$(t).width($(t).width()),$(t).html(a),t.editing=!1,r.apply(t,[t.innerHTML,i]),$.trim($(t).html())||$(t).html(i.placeholder)}else{var l={};l[i.name]=v.val(),l[i.id]=t.id,$.isFunction(i.submitdata)?$.extend(l,i.submitdata.apply(t,[t.revert,i])):$.extend(l,i.submitdata),"PUT"==i.method&&(l._method="put"),$(t).html(i.indicator);var s={type:"POST",data:l,dataType:"html",url:i.target,success:function(e){"html"==s.dataType&&$(t).html(e),t.editing=!1,r.apply(t,[e,i]),$.trim($(t).html())||$(t).html(i.placeholder),$(t).css("width","")},error:function(e){h.apply(y,[i,t,e])}};$.extend(s,i.ajaxoptions),$.ajax(s)}return $(t).attr("title",i.tooltip),!1})}}),this.reset=function(e){this.editing&&!1!==u.apply(e,[i,t])&&($(t).html(t.revert),$(t).css("width",""),t.editing=!1,$.trim($(t).html())||$(t).html(i.placeholder),i.tooltip&&$(t).attr("title",i.tooltip))}})},$.editable={types:{defaults:{element:function(){var t=$('<input type="hidden"></input>');return $(this).append(t),t},content:function(t){$(":input:first",this).val(t)},reset:function(t,e){e.reset(this)},buttons:function(t,e){var i=this;if(t.submit){if(t.submit.match(/>$/))var a=$(t.submit).click(function(){"submit"!=a.attr("type")&&i.submit()});else{var a=$('<button type="submit" />');a.html(t.submit)}$(this).append(a)}if(t.cancel){if(t.cancel.match(/>$/))var n=$(t.cancel);else{var n=$('<button type="cancel" />');n.html(t.cancel)}$(this).append(n),$(n).click(function(){if($.isFunction($.editable.types[t.type].reset))var a=$.editable.types[t.type].reset;else var a=$.editable.types.defaults.reset;return a.apply(i,[t,e]),!1})}}},text:{element:function(t){var e=$("<input />");return"none"!=t.width&&e.css({width:t.width-t.padding/2+"px","padding-top":0,"padding-bottom":0,"margin-top":"-1px","margin-bottom":"-1px"}),e.attr("autocomplete","off"),$(this).append(e),e}},textarea:{element:function(t){var e=$("<textarea />");return t.rows?e.attr("rows",t.rows):"none"!=t.height&&e.css("height",t.height+"px"),t.cols?e.attr("cols",t.cols):"none"!=t.width&&e.css("width",t.width-t.padding+"px"),$(this).append(e),e}},select:{element:function(){var t=$("<select />");return t.css({"padding-top":0,"padding-bottom":0,"margin-top":"-1px","margin-bottom":"-1px"}),$(this).append(t),t},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}if($("select",this).children().each(function(){($(this).val()==json.selected||$(this).text()==$("<div/>").html($.trim(original.revert)).text())&&$(this).attr("selected","selected")}),!settings.submit){var form=this;$("select",this).change(function(){form.submit()})}}}},addInputType:function(t,e){$.editable.types[t]=e}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery);
/*custom*/
!function(bull5i,$,undefined){var jqXHR=null,debugging=!1,success_timeout=5e3,default_texts={error_ajax_request:"An AJAX error occured!"},default_alert_classes={success:"alert-success",error:"alert-danger",warning:"alert-warning",info:"alert-info"},default_alert_icons={success:"fa-check-circle",error:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"},_old_unique=$.unique;bull5i.success_timeout=success_timeout,bull5i.texts="undefined"!=typeof bull5i.texts?$.extend(default_texts,bull5i.texts):default_texts,bull5i.alert_classes="undefined"!=typeof bull5i.alert_classes?$.extend(default_alert_classes,bull5i.alert_classes):default_alert_classes,bull5i.alert_icons="undefined"!=typeof bull5i.alert_icons?$.extend(default_alert_icons,bull5i.alert_icons):default_alert_icons,Number.prototype.round=function(e){return+(Math.round(this+"e+"+e)+"e-"+e)},bull5i.display_alert==undefined&&(bull5i.display_alert=function(e,t,a,n,i){var l,n=n!=undefined?n:1e4,i=i!=undefined?i:!0,s=e||$("#alerts"),r=[];t&&s.length&&(i&&(r=$.map($(".alert",s),function(e){var t=$.Deferred();return $(e).alert("close").on("closed.bs.alert",function(){t.resolve()}),t.promise()})),$.when.apply(null,r).done(function(){a in bull5i.alert_classes||(a="error"),l=$("<div/>",{"class":"alert "+bull5i.alert_classes[a]+" fade"}).html(t).prepend($("<i/>",{"class":"fa "+bull5i.alert_icons[a]})).prepend($("<button/>",{type:"button","class":"close","data-dismiss":"alert","aria-hidden":"true"}).html("&times;")),l=l.appendTo(s),setTimeout(function(){l.addClass("in")},0),n&&setTimeout(function(){l.alert("close")},n)}))}),bull5i.display_alerts==undefined&&(bull5i.display_alerts=function(e,t,a){var t=t!=undefined?t:!0,a=a!=undefined?a:$("#alerts");e&&$.each(e,function(e,n){"object"==typeof n?$.each(n,function(n,i){i&&(bull5i.display_alert(a,i,e,"success"==e?bull5i.success_timeout:0,t),t=!1)}):n&&(bull5i.display_alert(a,n,e,"success"==e?bull5i.success_timeout:0,t),t=!1)})}),bull5i.update_nav_controls==undefined&&(bull5i.update_nav_controls=function(e){var e=e==undefined?!1:e;e?$("#bull5i-navbar :input").prop("disabled",!0):($("#bull5i-navbar :input").prop("disabled",!1),$("input[name*='selected']:checked").length?($("#btn-send").prop("disabled",!1),$("#btn-delete").prop("disabled",!1),$("#btn-copy").prop("disabled",!1),$("input[name*='selected']:checked").length>1?$("#batch-edit-container").removeClass("hidden"):$("#batch-edit-container").addClass("hidden")):($("#btn-send").prop("disabled",!0),$("#btn-delete").prop("disabled",!0),$("#btn-copy").prop("disabled",!0),$("#batch-edit-container").addClass("hidden")))}),bull5i.update_special_price_menu==undefined&&(bull5i.update_special_price_menu=function(e){var t=e.data("value"),a=$("#filter_special_price"),n=$("#filter_price");t!=undefined&&a.length&&n.length&&(a.val(t),n.val(t),e.closest("ul").find("li.active").removeClass("active"),e.closest("ul").find("i.fa-check").removeClass("fa-check"),e.closest("li").addClass("active"),e.find("i.fa").addClass("fa-check"),""==t?n.prop("disabled",!1):n.prop("disabled",!0))}),$.unique=function(e){return e instanceof Array&&e.length&&!e[0].nodeType?$.grep(e,function(t,a){return $.inArray(t,e)===a}):_old_unique.apply(this,arguments)},$.fn.serializeHash=function(){var e={};return $.each($(this).serializeArray(),function(t,a){e[a.name]==undefined?e[a.name]=a.value:"object"==typeof e[a.name]?e[a.name].push(a.value):e[a.name]=[e[a.name],a.value]}),e},$.editable.addInputType("bs_text",{element:function(){var e=$("<input/>",{type:"text","class":"form-control input-sm input-qe"});return $(this).append(e),e}}),$.editable.addInputType("bs_autocomplete",{element:function(e){var t=$("<input/>",{type:"hidden"}),a=$("<div/>",{"class":"input-group"}).append($("<input/>",{type:"text","class":"form-control input-sm input-qe",autocomplete:"off"}),$("<span/>",{"class":"input-group-btn"}).append($("<button/>",{type:"submit","class":"btn btn-sm btn-primary"}).html(e.buttontext)));return $(this).append(a),$(this).append(t),$("input[type=text]",a).autocomplete({source:function(t,a){$.ajax({url:e.autocomplete+encodeURIComponent(t),dataType:"json",success:function(t){a($.unique($.map(t,function(t){return{label:t[e.label],value:t[e.value]}})))}})},select:function(e){return t.val(e.value),$("input[type=text]",a).val(e.label),!1}}),t}}),$.editable.addInputType("bs_textarea",{element:function(e){var t=$("<textarea />",{"class":"form-control input-sm input-qe"});return e.rows?t.attr("rows",e.rows):"none"!=e.height&&t.css("height",e.height+"px"),e.cols?t.attr("cols",e.cols):"none"!=e.width&&t.css("width",e.width-e.padding+"px"),$(this).append(t),t}}),$.editable.addInputType("bs_select",{element:function(){var e=$("<select />",{"class":"form-control input-sm input-qe"});return $(this).append(e),e},content:function(data,settings,original){var that=this;if(String==data.constructor)eval("var json = "+data);else var json=data;if($.each(json,function(e,t){if(t.hasOwnProperty("type")&&t.hasOwnProperty("values")){var a=$("<optgroup/>",{label:t.hasOwnProperty("label")?t.label:"Group"});$.each(t.values,function(e,t){if(t.hasOwnProperty("id")&&t.hasOwnProperty("value")&&"selected"!=t.id){var n=$("<option />").val(t.id).append(t.value);a.append(n)}}),$("select",that).append(a)}else{if(!t.hasOwnProperty("id")||!t.hasOwnProperty("value"))return;if("selected"==t.id)return;var n=$("<option />").val(t.id).append(t.value);$("select",that).append(n)}}),$("select option",this).each(function(){($(this).val()==json.selected||$(this).text()==$("<div/>").html($.trim(original.revert)).text())&&$(this).attr("selected","selected")}),!settings.submit){var form=this;$("select",this).change(function(){form.submit()})}}}),$.editable.addInputType("bs_advanced_select",{element:function(){var e=$("<select />",{"class":"form-control input-sm input-qe"});return $(this).append(e),e},content:function(data,settings,original){var t;if(String==data.constructor)eval("var json = "+data);else var json=data;if(json.error)return bull5i.display_alert($("#alerts"),json.error,"error",0,!0),$("select",this).remove(),void(t=setTimeout(function(){original.reset(form)},0));json=json.select;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}if($("select",this).children().each(function(){($(this).val()==json.selected||$(this).text()==$("<div/>").html($.trim(original.revert)).text())&&$(this).attr("selected","selected")}),!settings.submit){var form=this;$("select",this).change(function(){form.submit()})}}}),$.editable.addInputType("status_edit",{element:function(){var e=$("<select />",{"class":"form-control input-sm input-qe"});return $(this).append(e),e},content:function(data,settings,original){var t;if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}var label=$("<label />");label.attr("for","notify"),label.html(settings.notify_customer_text);var checkbox=$("<input />"),notify=settings.notify_customer;checkbox.attr({type:"checkbox",name:"notify",id:"notify",value:"1"}),notify&&checkbox.attr("checked","checked"),$(this).append($("<br />")).append(checkbox).append(label),checkbox.click(function(){$(this).focus()}),$("select",this).children().each(function(){($(this).val()==json.selected||$(this).text()==$.trim(original.revert))&&$(this).attr("selected","selected")});var form=this;settings.submit||$("select",this).change(function(){form.submit()})}}),$.editable.addInputType("multiselect_edit",{element:function(){var e=$("<input />");return e.attr({type:"hidden"}),$(this).append(e),e},content:function(data,settings,original){var t;if(String==data.constructor)eval("var json = "+data);else var json=data;$(original).append(original.revert);var form=this;return json.alerts&&bull5i.display_alerts(json.alerts,!0,$("#alerts")),json.error?(bull5i.display_alert($("#alerts"),json.error,"error",0,!0),$("input",this).remove(),void(t=setTimeout(function(){original.reset(form)},0))):void bull5i.aqe_popup(json.title,json.popup,function(e){form.submit(),$.isFunction(e)&&e.call(null,!0)},"modal-md").fail(function(){original.reset(form)})}}),$.editable.addInputType("popup_edit",{element:function(){var e=$("<input />");return e.attr({type:"hidden"}),$(this).append(e),e},content:function(data,settings,original){var t;if(String==data.constructor)eval("var json = "+data);else var json=data;$(original).append(original.revert);var form=this;if(json.alerts&&bull5i.display_alerts(json.alerts,!0,$("#alerts")),json.error)return bull5i.display_alert($("#alerts"),json.error,"error",0,!0),$("input",this).remove(),void(t=setTimeout(function(){original.reset(form)},0));var id=$(original).attr("id"),_id=$(original).attr("id").split("-")[1],column=$(original).attr("id").split("-")[0],options={alerts:$.merge($("#aqe-modal .notice"),$("#alerts"))};bull5i.aqe_popup(json.title,json.popup,function(e){data={id:id,old:"","new":""},bull5i.batch_edit&&$("input[name*='selected']:checked").length&&(data.ids=$("input[name*='selected']:checked").serializeObject().selected),$.extend(data,$("#aqeQuickEditForm").serializeHash()),bull5i.aqe_popup_update.call(options,settings.saveurl,data).done(function(t){(t===!0||t.success)&&bull5i.update_related(column,$.unique($.merge([_id],data.ids||[]))),$.isFunction(e)&&e.call(null,t),original.reset(form),t.results&&t.results.done&&$.each(t.results.done,function(e,a){t.values!=undefined?(t.values.hasOwnProperty("*")&&(ret_val=t.values["*"]),t.values.hasOwnProperty(a)&&(ret_val=t.values[a])):ret_val=t.value,$("#"+column+"-"+a).html(ret_val)}),$("#"+id).css("width","").editable("enable")}).fail(function(t){$.isFunction(e)&&e.call(null,t),original.reset(form)})},"modal-lg").fail(function(){original.reset(form)})}}),$.editable.addInputType("multilingual_edit",{element:function(){var e=$("<input />");return e.attr({type:"hidden"}),$(this).append(e),e},content:function(data,settings,original){var t;if(String==data.constructor)eval("var json = "+data);else var json=data;$(original).append(original.revert);var form=this;if(json.alerts&&bull5i.display_alerts(json.alerts,!0,$("#alerts")),json.error)return bull5i.display_alert($("#alerts"),json.error,"error",0,!0),$("input",this).remove(),void(t=setTimeout(function(){original.reset(form)},0));var id=$(original).attr("id"),_id=$(original).attr("id").split("-")[1],column=$(original).attr("id").split("-")[0],options={alerts:$.merge($("#aqe-modal .notice"),$("#alerts"))};bull5i.aqe_popup(json.title,json.popup,function(e){data={id:id,old:"","new":""},bull5i.batch_edit&&$("input[name*='selected']:checked").length&&(data.ids=$("input[name*='selected']:checked").serializeObject().selected),$.extend(data,$("#aqeQuickEditForm").serializeHash()),bull5i.aqe_popup_update.call(options,settings.saveurl,data).done(function(t){(t===!0||t.success)&&bull5i.update_related(column,$.unique($.merge([_id],data.ids||[]))),$.isFunction(e)&&e.call(null,t),original.reset(form),t.results&&t.results.done&&$.each(t.results.done,function(e,a){t.values!=undefined?(t.values.hasOwnProperty("*")&&(ret_val=t.values["*"]),t.values.hasOwnProperty(a)&&(ret_val=t.values[a])):ret_val=t.value,$("#"+column+"-"+a).html(ret_val)}),$("#"+id).css("width","").editable("enable")}).fail(function(t){$.isFunction(e)&&e.call(null,t),original.reset(form)})}).fail(function(){original.reset(form)})}}),$.editable.addInputType("customer_edit",{element:function(e){var t=$("<input/>",{type:"hidden"}),a=$("<div/>",{"class":"input-group"}).append($("<input/>",{type:"text","class":"form-control input-sm input-qe",autocomplete:"off"}),$("<span/>",{"class":"input-group-btn"}).append($("<button/>",{type:"submit","class":"btn btn-sm btn-primary"}).html(e.buttontext))),n=$("<input/>",{type:"hidden",name:"first_name"});return last_name=$("<input/>",{type:"hidden",name:"last_name"}),customer_id=$("<input/>",{type:"hidden",name:"customer_id"}),$(this).append(a),$(this).append(t),$(this).append(n),$(this).append(last_name),$(this).append(customer_id),$("input[type=text]",a).autocomplete({source:function(t,a){$.ajax({url:e.autocomplete+encodeURIComponent(t),dataType:"json",success:function(e){a($.unique($.map(e,function(e){return{label:e.full_name,value:e.customer_id,first_name:e.first_name,last_name:e.last_name}})))}})},select:function(e){return t.val(e.value),n.val(e.first_name),last_name.val(e.last_name),customer_id.val(e.customer_id),$("input[type=text]",a).val(e.label),!1}}),t}}),$.editable.addInputType("date_edit",{element:function(){var e=$("<input/>",{type:"text","class":"form-control input-sm input-qe"}),t=$("<div/>",{"class":"input-group date"}).append(e,$("<span/>",{"class":"input-group-addon input-sm"}).append($("<i/>",{"class":"fa fa-calendar"})));return e.css({"min-width":"70px"}),$(this).append(t),t.datetimepicker({pickTime:!1,format:"YYYY-MM-DD"}),$(this).on("submit",function(){t.data("DateTimePicker").destroy()}),e},content:function(e){$(".date",this).data("DateTimePicker").setDate(e)}}),$.editable.addInputType("date_time_edit",{element:function(){var e=$("<input/>",{type:"text","class":"form-control input-sm input-qe"}),t=$("<div/>",{"class":"input-group date"}).append(e,$("<span/>",{"class":"input-group-addon input-sm"}).append($("<i/>",{"class":"fa fa-calendar"})));return e.css({"min-width":"120px"}),$(this).append(t),t.datetimepicker({pickTime:!0,pickDate:!0,useSeconds:!0,format:"YYYY-MM-DD HH:mm:ss"}),$(this).on("submit",function(){t.data("DateTimePicker").destroy()}),e},content:function(e){$(".date",this).data("DateTimePicker").setDate(e)}}),$.editable.addInputType("image_edit",{element:function(e,t){var a=$("<input />");return a.attr({type:"hidden",id:"img-"+$(t.revert).attr("data-id"),value:""}),$(this).append(a),a},content:function(e,t,a){var n=$("<a/>",{href:"#","class":"img-thumbnail img-relative",id:"quick-edit-thumbnail"}).append($("<div/>",{"class":"content-overlay in"}).append($("<span/>",{"class":"fa fa-2x fa-refresh fa-spin"})),$(a.revert).removeClass("img-thumbnail"));$(this).append(n);var i=this;bull5i.update_image("img-"+$(a.revert).attr("data-id")).done(function(){i.submit()}).fail(function(){a.reset(i)})}}),bull5i.update_failed=function(){$(this).html(this.revert).editable("enable")},bull5i.quick_update=function(e,t,a,n,i){var l=e.revert,s=$(e),r={id:$(e).attr("id"),old:l,"new":t},o=$(e).attr("id").split("-")[0],d=$.Deferred(),u={alerts:$("#alerts")};return bull5i.batch_edit&&$("input[name*='selected']:checked").length&&(r.ids=$("input[name*='selected']:checked").serializeObject().selected),i&&$.extend(r,i),s.editable("disable"),bull5i.aqe_popup_update.call(u,n,r).done(function(e){e.results&&e.results.done?$.each(e.results.done,function(t,a){e.values!=undefined?(e.values.hasOwnProperty("*")&&(l=e.values["*"]),e.values.hasOwnProperty(a)&&(l=e.values[a])):l=e.value,$("#"+o+"-"+a).html(l)}):s.html(l),s.css("width","").editable("enable"),d.resolve(e)}).fail(function(){d.reject(r)}),d.promise()},bull5i.aqe_popup_update=function(e,t){var a={},n=$.Deferred(),i=this;return t&&$.extend(a,t),$.ajax({type:"POST",url:e,dataType:"json",data:a}).done(function(e){var t=!0;e?(e.alerts&&bull5i.display_alerts(e.alerts,t,i.alerts),e.success?n.resolve(e):n.reject(e)):n.reject({})}).fail(function(e,t){bull5i.display_alert($("#alerts"),t,"error",0,!0),n.reject(t)}),n.promise()},bull5i.cell_updating=function(e){var t=e.outerWidth(),a=e.outerHeight();e.data("original-content",e.html()).addClass("updating").css({padding:0,width:t+"px",height:a+"px",position:"relative"}).html($("<div/>",{"class":"overlay-container"}).append($("<i/>",{"class":"fa fa-2x fa-spin fa-refresh overlay-loading-spinner"}))),e.editable("disable")},bull5i.update_finished=function(e){e&&e.success&&e.results&&e.results.done&&this.column&&bull5i.update_related&&bull5i.update_related(this.column,e.results.done)},bull5i.load_popup_data=function(e,t){var a=$.Deferred(),n={};return t&&$.extend(n,t),$.ajax({type:"POST",url:e,data:n,dataType:"json"}).done(function(e){e?(e.alerts&&bull5i.display_alerts(e.alerts,!0,this.alerts),e.success?a.resolve(e):a.reject(e)):a.reject({})}).fail(function(e,t){bull5i.display_alert($("#alerts"),t,"error",0,!0),a.reject(t)}),a.promise()},bull5i.aqe_popup=function(e,t,a,n){var i=$.Deferred(),n="undefined"!=typeof n?n:"",l=!0;return $("#aqe-modal").modal("hide"),$("#aqe-modal .notice").html(""),$("#aqe-modal .modal-dialog").removeClass("modal-lg").removeClass("modal-md"),$("#aqe-modal .aqe-modal-contents").html(t),$("#aqe-modal .modal-title").html(e),$("#aqe-modal .modal-dialog").addClass(n),$("#aqe-modal").modal("show"),$("#aqe-modal").on("hide.bs.modal",function(){$("#aqe-modal").off("hide.bs.modal"),$("#aqe-modal").off("shown.bs.modal"),$("#aqe-modal .modal-footer .submit").off("click"),l&&(l=!1,i.reject())}).on("shown.bs.modal",function(){$("form :input:visible:enabled:first",this).focus()}),$("#aqe-modal .modal-footer .submit").on("click",function(e){var t=this,n={self:t,btn:$(this),form:$($(this).data("form")),alerts:$.merge($("#aqe-modal .notice"),$("#alerts")),context:$($(this).data("context"))};e.preventDefault(),n.form&&$.isFunction(a)?(n.btn.data("loading-text")?n.btn.button("loading"):n.btn.prop("disabled",!0),a.call(n,function(e){n.btn.data("loading-text")?n.btn.button("reset"):n.btn.prop("disabled",!1),$("#aqe-modal .aqe-modal-contents .error-text").remove(),e===!0||e.success?(l=!1,$("#aqe-modal").modal("hide"),i.resolve()):(e.alerts&&bull5i.display_alerts(e.alerts,!0,this.alerts),e.errors&&$.each(e.errors,function(e,t){var a=$("[name='"+e+"']");if(a.length){var n=$("<div/>",{"class":"text-danger error-text"}).html(t);a.parent().hasClass("input-group")?a.parent().after(n):a.after(n)}}))})):(i.resolve(),$("#aqe-modal").modal("hide"))}),i.promise()},$(function(){function e(){var e=t.scrollTop();a.length&&i!=a.offset().top&&(i=a.offset().top),e>=i&&!l?(l=1,a.length&&a.height(a.outerHeight()),n.addClass("navbar-fixed-top")):i>=e&&l&&(l=0,a.length&&a.height(""),n.removeClass("navbar-fixed-top"))}var t=$(window),a=$(".navbar-placeholder"),n=$("#bull5i-navbar"),i=$("#bull5i-navbar").length&&$("#bull5i-navbar").offset().top,l=0;e(),t.on("scroll",e),$("body").on("click",".modal-footer .cancel",function(){jqXHR&&jqXHR.abort()}).on("click","#global-selector",function(){$("input[name*='selected']").prop("checked",this.checked).trigger("change")}).on("change","#batch-edit",function(){bull5i.batch_edit=$(this).is(":checked")}).on("change","input[name*='selected']",function(){bull5i.update_nav_controls()}).on("change","select.view_in_store",function(){$(this).val()&&(window.open(this.value),this.value="")}).on("click",".filter-special-price",function(e){e.preventDefault(),bull5i.update_special_price_menu($(this))}).on("click","#filter",function(){bull5i.filter()}).on("click","#clear-filter",function(){bull5i.update_special_price_menu($("#special-price-off")),$("tr.filters .fltr:input").val(""),bull5i.filter()}).on("keydown","tr.filters input,tr.filters select",function(e){13==e.keyCode&&bull5i.filter()}).on("click","#btn-delete",function(e){var t=this,a=!1,n=$.Deferred();$form=$($(this).data("form")),options={self:t,btn:$(this),form:$form,url:$(this).data("url"),alerts:$("#alerts"),context:$($(this).data("context"))},e.preventDefault(),options.url&&options.form&&($("#confirmDelete").length?($("#confirmDelete").modal("show"),$("#confirmDelete button.delete").click(function(){$("#confirmDelete").modal("hide"),a=!0}),$("#confirmDelete").on("hidden.bs.modal",function(){a?n.resolve():n.reject()})):n.resolve(),n.done(function(){options.btn.data("loading-text")?options.btn.button("loading"):options.btn.prop("disabled",!0),options.form.attr("action",options.url).submit()}))}).on("click","#btn-copy",function(e){var t=this,a=$($(this).data("form")),n={self:t,btn:$(this),form:a,url:$(this).data("url"),alerts:$("#alerts"),context:$($(this).data("context"))};e.preventDefault(),n.url&&n.form&&(n.btn.data("loading-text")?n.btn.button("loading"):n.btn.prop("disabled",!0),n.form.attr("action",n.url).submit())}).on("click","#btn-send,.btn-send",function(e){var t=this,a=$($(this).data("form")),n={},i={self:t,btn:$(this),form:a.length?a:null,url:$(this).data("url"),alerts:$("#alerts"),context:$($(this).data("context"))};e.preventDefault(),i.url&&(i.btn.data("loading-text")?i.btn.button("loading"):i.btn.prop("disabled",!0),i.form&&(n=i.form.serializeObject()),bull5i.aqe_popup_update.call(i,i.url,n).always(function(){i.btn.data("loading-text")?i.btn.button("reset"):i.btn.prop("disabled",!1)}))}).on("click","#btn-insert,#btn-cancel,.btn.btn-nav-link",function(e){var t={btn:$(this),url:$(this).data("url")||this.href};e.preventDefault(),t.url&&(t.btn.data("loading-text")?t.btn.button("loading"):t.btn.prop("disabled",!0),window.location=t.url)}),$('input[type=checkbox][name^="selected"]').change(function(){$(this).is(":checked")?$(this).parents("tr").first().addClass("warning"):$(this).parents("tr").first().removeClass("warning")}),$("#alerts .alert.alert-success").each(function(){var e=$(this);setTimeout(function(){e.alert("close")},8e3)}),bull5i.update_nav_controls()})}(window.bull5i=window.bull5i||{},jQuery);